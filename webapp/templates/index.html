<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingAgents</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <!-- Lightweight Markdown renderer for report/messages content -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- KaTeX for math rendering -->
    <!-- KaTeX (SRI removed due to mismatch warning; consider pinning correct hashes later) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
</head>
<body>
    <div id="main-content">
    <div id="left-panel" class="layout-left">
            <div id="config-header" class="config-header">
                <h2 style="display:inline-block; margin:0;">Trading Agents</h2>
            </div>
            <div id="config-form" class="config-open">
                <h3 style="margin-top:0;">Multi-Run Configuration</h3>
                <form id="multi-run-form">
                    <label for="multi_company_symbols">Company Symbols (CSV):</label>
                    <input type="text" id="multi_company_symbols" name="company_symbols" placeholder="AAPL,MSFT,NVDA" value="AAPL,MSFT" required>
                    <div class="two-col" style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                        <div>
                            <label for="multi_llm_provider">LLM Provider:</label>
                            <select id="multi_llm_provider" name="llm_provider"></select>
                        </div>
                        <div>
                            <label for="multi_max_debate_rounds">Max Debate Rounds:</label>
                            <select id="multi_max_debate_rounds" name="max_debate_rounds">
                                <option value="1" selected>1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                    </div>
                    <label for="multi_quick_think_llm">Quick Think LLM:</label>
                    <select id="multi_quick_think_llm" name="quick_think_llm"></select>
                    <label for="multi_deep_think_llm">Deep Think LLM:</label>
                    <select id="multi_deep_think_llm" name="deep_think_llm"></select>
                    <label for="multi_cost_per_trade">Cost Per Trade ($):</label>
                    <input type="number" id="multi_cost_per_trade" name="cost_per_trade" value="2.0" step="0.1" min="0" required>
                    <label for="multi_analysis_date">Analysis Date:</label>
                    <input type="date" id="multi_analysis_date" name="analysis_date" required>
                    <button type="submit">Start Multi-Run</button>
                    <small style="display:block;margin-top:6px;color:var(--text-secondary);">Requires ENABLE_MULTI_RUN=1 on server.</small>
                </form>
            </div>
                        <div id="execution-tree-container" data-empty="true">
                            <p class="placeholder" style="margin:0; opacity:0.6; font-size:0.85rem;">No executions yet. Start a multi-run to see progress.</p>
                        </div>
        </div>
        <div id="right-panel" class="content-panel">
            <div class="placeholder"><p>Select a phase, agent, messages, or report to view details.</p></div>
        </div>
    <!-- Runtime logic now fully in /static/js/*.js modules -->
    <script type="module" src="/static/js/main.js"></script>
</body>
</html>
